<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.TicketController">
   <top>
      <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #2c3e50; -fx-padding: 20;">
         <Button fx:id="backButton" style="-fx-background-color: #34495e; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5;" text="â† Back" />
         <Text fill="white" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸŽ« Ticket Status">
            <font>
               <Font name="System Bold" size="28.0" />
            </font>
         </Text>
         <Region HBox.hgrow="ALWAYS" />
         <Text fill="#bdc3c7" strokeType="OUTSIDE" strokeWidth="0.0" text="Track your support request">
            <font>
               <Font size="14.0" />
            </font>
         </Text>
      </HBox>
   </top>
   
   <center>
      <ScrollPane fitToWidth="true" style="-fx-background-color: #ecf0f1;">
         <VBox spacing="25" style="-fx-background-color: #ecf0f1;">
            <padding>
               <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>
            
            <!-- Ticket Header -->
            <HBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 1); -fx-padding: 25;">
               <VBox spacing="5">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Ticket ID">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Text>
                  <Text fx:id="ticketIdLabel" fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="TKT-2024-001234">
                     <font>
                        <Font name="System Bold" size="20.0" />
                     </font>
                  </Text>
               </VBox>
               <Separator orientation="VERTICAL" />
               <VBox spacing="5">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Status">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Text>
                  <Label fx:id="statusLabel" style="-fx-background-color: #f39c12; -fx-background-radius: 15; -fx-text-fill: white; -fx-padding: 5 15;" text="IN PROGRESS">
                     <font>
                        <Font name="System Bold" size="12.0" />
                     </font>
                  </Label>
               </VBox>
               <Separator orientation="VERTICAL" />
               <VBox spacing="5">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Priority">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Text>
                  <Label fx:id="priorityLabel" style="-fx-background-color: #e74c3c; -fx-background-radius: 15; -fx-text-fill: white; -fx-padding: 5 15;" text="HIGH">
                     <font>
                        <Font name="System Bold" size="12.0" />
                     </font>
                  </Label>
               </VBox>
               <Separator orientation="VERTICAL" />
               <VBox spacing="5">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Created">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Text>
                  <Text fx:id="createdDateLabel" fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="March 22, 2024">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Text>
               </VBox>
               <Region HBox.hgrow="ALWAYS" />
               <VBox alignment="CENTER_RIGHT" spacing="5">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Assigned to">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Text>
                  <Text fx:id="assignedAgentLabel" fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="Sarah Johnson">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Text>
               </VBox>
            </HBox>
            
            <!-- Subject and Progress -->
            <VBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 1); -fx-padding: 25;">
               <HBox alignment="CENTER_LEFT" spacing="15">
                  <Text fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“‹ Ticket Details">
                     <font>
                        <Font name="System Bold" size="18.0" />
                     </font>
                  </Text>
                  <Region HBox.hgrow="ALWAYS" />
                  <Button fx:id="addResponseButton" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 8; -fx-background-radius: 5;" text="ðŸ’¬ Add Response">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Button>
               </HBox>
               
               <VBox spacing="10">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Subject">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Text>
                  <Text fx:id="subjectLabel" fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="Unable to check in online - Flight AA-1234">
                     <font>
                        <Font size="16.0" />
                     </font>
                  </Text>
               </VBox>
               
               <!-- Progress Indicator -->
               <VBox spacing="15">
                  <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Progress">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Text>
                  <HBox spacing="10" alignment="CENTER_LEFT">
                     <ProgressBar fx:id="progressBar" progress="0.6" maxWidth="1.7976931348623157E308" HBox.hgrow="ALWAYS" style="-fx-accent: #3498db;" />
                     <Text fx:id="progressLabel" fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="60%">
                        <font>
                           <Font name="System Bold" size="12.0" />
                        </font>
                     </Text>
                  </HBox>
               </VBox>
               
               <!-- Expected Resolution -->
               <HBox spacing="20">
                  <VBox spacing="5">
                     <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Expected Resolution">
                        <font>
                           <Font name="System Bold" size="12.0" />
                        </font>
                     </Text>
                     <Text fx:id="expectedResolutionLabel" fill="#27ae60" strokeType="OUTSIDE" strokeWidth="0.0" text="March 24, 2024 by 5:00 PM">
                        <font>
                           <Font name="System Bold" size="14.0" />
                        </font>
                     </Text>
                  </VBox>
                  <VBox spacing="5">
                     <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Last Updated">
                        <font>
                           <Font name="System Bold" size="12.0" />
                        </font>
                     </Text>
                     <Text fx:id="lastUpdatedLabel" fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="2 hours ago">
                        <font>
                           <Font size="14.0" />
                        </font>
                     </Text>
                  </VBox>
               </HBox>
            </VBox>
            
            <!-- Status Timeline -->
            <VBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 1); -fx-padding: 25;">
               <Text fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“ˆ Status Timeline">
                  <font>
                     <Font name="System Bold" size="18.0" />
                  </font>
               </Text>
               
               <VBox spacing="20" fx:id="timelineContainer">
                  <!-- Timeline Item 1 - Completed -->
                  <HBox spacing="15" alignment="CENTER_LEFT">
                     <VBox alignment="CENTER" spacing="5">
                        <Text fill="#27ae60" strokeType="OUTSIDE" strokeWidth="0.0" text="âœ…">
                           <font>
                              <Font size="20.0" />
                           </font>
                        </Text>
                        <Line endY="40.0" stroke="#27ae60" strokeWidth="3.0" />
                     </VBox>
                     <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Text fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="Ticket Created">
                              <font>
                                 <Font name="System Bold" size="14.0" />
                              </font>
                           </Text>
                           <Region HBox.hgrow="ALWAYS" />
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="March 22, 2024 at 2:30 PM">
                              <font>
                                 <Font size="10.0" />
                              </font>
                           </Text>
                        </HBox>
                        <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Your support ticket has been created and assigned ticket ID TKT-2024-001234">
                           <font>
                              <Font size="12.0" />
                           </font>
                        </Text>
                     </VBox>
                  </HBox>
                  
                  <!-- Timeline Item 2 - Completed -->
                  <HBox spacing="15" alignment="CENTER_LEFT">
                     <VBox alignment="CENTER" spacing="5">
                        <Text fill="#27ae60" strokeType="OUTSIDE" strokeWidth="0.0" text="âœ…">
                           <font>
                              <Font size="20.0" />
                           </font>
                        </Text>
                        <Line endY="40.0" stroke="#27ae60" strokeWidth="3.0" />
                     </VBox>
                     <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Text fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="Ticket Assigned">
                              <font>
                                 <Font name="System Bold" size="14.0" />
                              </font>
                           </Text>
                           <Region HBox.hgrow="ALWAYS" />
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="March 22, 2024 at 3:15 PM">
                              <font>
                                 <Font size="10.0" />
                              </font>
                           </Text>
                        </HBox>
                        <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Ticket assigned to Sarah Johnson from the Customer Support team">
                           <font>
                              <Font size="12.0" />
                           </font>
                        </Text>
                     </VBox>
                  </HBox>
                  
                  <!-- Timeline Item 3 - In Progress -->
                  <HBox spacing="15" alignment="CENTER_LEFT">
                     <VBox alignment="CENTER" spacing="5">
                        <Text fill="#f39c12" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ”„">
                           <font>
                              <Font size="20.0" />
                           </font>
                        </Text>
                        <Line endY="40.0" stroke="#f39c12" strokeWidth="3.0" />
                     </VBox>
                     <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Text fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="Investigation in Progress">
                              <font>
                                 <Font name="System Bold" size="14.0" />
                              </font>
                           </Text>
                           <Region HBox.hgrow="ALWAYS" />
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="March 23, 2024 at 10:30 AM">
                              <font>
                                 <Font size="10.0" />
                              </font>
                           </Text>
                        </HBox>
                        <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Our team is investigating the check-in issue with your booking. We've identified a potential system conflict and are working on a resolution.">
                           <font>
                              <Font size="12.0" />
                           </font>
                        </Text>
                     </VBox>
                  </HBox>
                  
                  <!-- Timeline Item 4 - Pending -->
                  <HBox spacing="15" alignment="CENTER_LEFT">
                     <VBox alignment="CENTER" spacing="5">
                        <Text fill="#bdc3c7" strokeType="OUTSIDE" strokeWidth="0.0" text="â³">
                           <font>
                              <Font size="20.0" />
                           </font>
                        </Text>
                     </VBox>
                     <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Resolution & Testing">
                              <font>
                                 <Font name="System Bold" size="14.0" />
                              </font>
                           </Text>
                           <Region HBox.hgrow="ALWAYS" />
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Expected: March 24, 2024">
                              <font>
                                 <Font size="10.0" />
                              </font>
                           </Text>
                        </HBox>
                        <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Implementation of fix and verification that the issue is resolved">
                           <font>
                              <Font size="12.0" />
                           </font>
                        </Text>
                     </VBox>
                  </HBox>
                  
                  <!-- Timeline Item 5 - Pending -->
                  <HBox spacing="15" alignment="CENTER_LEFT">
                     <VBox alignment="CENTER" spacing="5">
                        <Text fill="#bdc3c7" strokeType="OUTSIDE" strokeWidth="0.0" text="â³">
                           <font>
                              <Font size="20.0" />
                           </font>
                        </Text>
                     </VBox>
                     <VBox spacing="5" HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Ticket Closed">
                              <font>
                                 <Font name="System Bold" size="14.0" />
                              </font>
                           </Text>
                           <Region HBox.hgrow="ALWAYS" />
                           <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Expected: March 24, 2024">
                              <font>
                                 <Font size="10.0" />
                              </font>
                           </Text>
                        </HBox>
                        <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="Confirmation that the issue is resolved and ticket closure">
                           <font>
                              <Font size="12.0" />
                           </font>
                        </Text>
                     </VBox>
                  </HBox>
               </VBox>
            </VBox>
            
            <!-- Contact Information -->
            <VBox spacing="20" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 1); -fx-padding: 25;">
               <Text fill="#2c3e50" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“ž Need Help?">
                  <font>
                     <Font name="System Bold" size="18.0" />
                  </font>
               </Text>
               
               <Text fill="#7f8c8d" strokeType="OUTSIDE" strokeWidth="0.0" text="If you have any questions about your ticket or need immediate assistance, please contact our support team.">
                  <font>
                     <Font size="14.0" />
                  </font>
               </Text>
               
               <HBox spacing="15">
                  <Button fx:id="callSupportButton" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-padding: 12; -fx-background-radius: 5;" text="ðŸ“ž Call Support">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>
                  <Button fx:id="liveChatButton" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 12; -fx-background-radius: 5;" text="ðŸ’¬ Live Chat">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>
                  <Button fx:id="emailSupportButton" style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-padding: 12; -fx-background-radius: 5;" text="ðŸ“§ Email Support">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>
                  <Region HBox.hgrow="ALWAYS" />
                  <Button fx:id="closeTicketButton" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-padding: 12; -fx-background-radius: 5;" text="âŒ Close Ticket">
                     <font>
                        <Font name="System Bold" size="14.0" />
                     </font>
                  </Button>
               </HBox>
            </VBox>
         </VBox>
      </ScrollPane>
   </center>
</BorderPane> 